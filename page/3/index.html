<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yloopdaed.icu","root":"/","images":"/images","scheme":"Pisces","version":"8.0.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}};
  </script>

  <meta name="description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
<meta property="og:type" content="website">
<meta property="og:title" content="yloopdaed">
<meta property="og:url" content="http://yloopdaed.icu/page/3/index.html">
<meta property="og:site_name" content="yloopdaed">
<meta property="og:description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="yloopdaed">
<meta property="article:tag" content="iOS JAVA">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://yloopdaed.icu/page/3/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>yloopdaed</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">yloopdaed</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">YYYYYY iOS to Java. DON'T BE WILD</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-xmind">

    <a href="/xmind/" rel="section"><i class="fa fa-tags fa-fw"></i>å¯¼å›¾</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="yloopdaed"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">yloopdaed</p>
  <div class="site-description" itemprop="description">å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">32</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">42</span>
        <span class="site-state-item-name">æ ‡ç­¾</span>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/YorickYu" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;YorickYu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yykeepbreak@gmail.com" title="E-Mail â†’ mailto:yykeepbreak@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.jianshu.com/u/9901b7042663" title="ç®€ä¹¦ â†’ https:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;9901b7042663" rel="noopener" target="_blank">ç®€ä¹¦</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/14337507/yloopdaed" title="StackOverflow â†’ https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;14337507&#x2F;yloopdaed" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://github.com/YorickYu/JPP" title="https:&#x2F;&#x2F;github.com&#x2F;YorickYu&#x2F;JPP" rel="noopener" target="_blank">JPP</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://github.com/YorickYu/YYTODOLIST" title="https:&#x2F;&#x2F;github.com&#x2F;YorickYu&#x2F;YYTODOLIST" rel="noopener" target="_blank">TODOLIST</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://github.com/YorickYu/IHAVEAQUESTION" title="https:&#x2F;&#x2F;github.com&#x2F;YorickYu&#x2F;IHAVEAQUESTION" rel="noopener" target="_blank">IHAVEAQUESTION</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://azh.ink/" title="http:&#x2F;&#x2F;azh.ink" rel="noopener" target="_blank">azh</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://lan.yitian.online/blog" title="http:&#x2F;&#x2F;lan.yitian.online&#x2F;blog" rel="noopener" target="_blank">lan</a>
        </li>
    </ul>
  </div>

        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">
      

      
    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yloopdaed.icu/2020/11/03/reverse-words/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="yloopdaed">
      <meta itemprop="description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yloopdaed">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/03/reverse-words/" class="post-title-link" itemprop="url">LeetCode reverse-words</a>
        </h2>

        <div class="post-meta-container">
          
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-11-03 22:23:14" itemprop="dateCreated datePublished" datetime="2020-11-03T22:23:14+08:00">2020-11-03</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-12-11 23:27:04" itemprop="dateModified" datetime="2020-12-11T23:27:04+08:00">2020-12-11</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>LeetCode p151 é€ä¸ªç¿»è½¬å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå•è¯</p>
<p>ç›¸å…³ä»£ç å¯ä»¥åœ¨ <a target="_blank" rel="noopener" href="https://github.com/YorickYu/JPP"><strong><em>JPP</em></strong></a>/ReverseWordsç±»ä¸­æŸ¥çœ‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€ä¸ªç¿»è½¬å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå•è¯ã€‚ </span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F; è¯´æ˜ï¼š </span><br><span class="line">&#x2F;&#x2F; </span><br><span class="line">&#x2F;&#x2F; æ— ç©ºæ ¼å­—ç¬¦æ„æˆä¸€ä¸ª å•è¯ ã€‚ </span><br><span class="line">&#x2F;&#x2F; è¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚ </span><br><span class="line">&#x2F;&#x2F; å¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚ </span><br><span class="line">&#x2F;&#x2F; </span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F; ç¤ºä¾‹ 1ï¼š </span><br><span class="line">&#x2F;&#x2F; è¾“å…¥ï¼š&quot;the sky is blue&quot;</span><br><span class="line">&#x2F;&#x2F;è¾“å‡ºï¼š&quot;blue is sky the&quot;</span><br><span class="line">&#x2F;&#x2F; </span><br><span class="line">&#x2F;&#x2F; ç¤ºä¾‹ 2ï¼š </span><br><span class="line">&#x2F;&#x2F; è¾“å…¥ï¼š&quot; Â hello world! Â &quot;</span><br><span class="line">&#x2F;&#x2F;è¾“å‡ºï¼š&quot;world! hello&quot;</span><br><span class="line">&#x2F;&#x2F;è§£é‡Šï¼šè¾“å…¥å­—ç¬¦ä¸²å¯ä»¥åœ¨å‰é¢æˆ–è€…åé¢åŒ…å«å¤šä½™çš„ç©ºæ ¼ï¼Œä½†æ˜¯åè½¬åçš„å­—ç¬¦ä¸èƒ½åŒ…æ‹¬ã€‚</span><br><span class="line">&#x2F;&#x2F; </span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F; ç¤ºä¾‹ 3ï¼š </span><br><span class="line">&#x2F;&#x2F; è¾“å…¥ï¼š&quot;a good Â  example&quot;</span><br><span class="line">&#x2F;&#x2F;è¾“å‡ºï¼š&quot;example good a&quot;</span><br><span class="line">&#x2F;&#x2F;è§£é‡Šï¼šå¦‚æœä¸¤ä¸ªå•è¯é—´æœ‰å¤šä½™çš„ç©ºæ ¼ï¼Œå°†åè½¬åå•è¯é—´çš„ç©ºæ ¼å‡å°‘åˆ°åªå«ä¸€ä¸ªã€‚</span><br><span class="line">&#x2F;&#x2F; </span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F; ç¤ºä¾‹ 4ï¼š </span><br><span class="line">&#x2F;&#x2F; è¾“å…¥ï¼šs &#x3D; &quot;  Bob    Loves  Alice   &quot;</span><br><span class="line">&#x2F;&#x2F;è¾“å‡ºï¼š&quot;Alice Loves Bob&quot;</span><br><span class="line">&#x2F;&#x2F; </span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F; ç¤ºä¾‹ 5ï¼š </span><br><span class="line">&#x2F;&#x2F; è¾“å…¥ï¼šs &#x3D; &quot;Alice does not even like bob&quot;</span><br><span class="line">&#x2F;&#x2F;è¾“å‡ºï¼š&quot;bob like even not does Alice&quot;</span><br><span class="line">&#x2F;&#x2F; </span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F; </span><br><span class="line">&#x2F;&#x2F;</span><br><span class="line">&#x2F;&#x2F; æç¤ºï¼š </span><br><span class="line">&#x2F;&#x2F; 1 &lt;&#x3D; s.length &lt;&#x3D; 104 </span><br><span class="line">&#x2F;&#x2F; s åŒ…å«è‹±æ–‡å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç©ºæ ¼ &#39; &#39; </span><br><span class="line">&#x2F;&#x2F; s ä¸­ è‡³å°‘å­˜åœ¨ä¸€ä¸ª å•è¯ </span><br><span class="line">&#x2F;&#x2F; </span><br><span class="line">&#x2F;&#x2F; è¿›é˜¶ï¼š  </span><br><span class="line">&#x2F;&#x2F; è¯·å°è¯•ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´å¤æ‚åº¦çš„åŸåœ°è§£æ³•ã€‚ </span><br><span class="line">&#x2F;&#x2F; </span><br><span class="line">&#x2F;&#x2F; Related Topics å­—ç¬¦ä¸² </span><br><span class="line">&#x2F;&#x2F; ğŸ‘ 240 ğŸ‘ 0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import java.util.HashMap;</span><br><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">    public String reverseWords(String s) &#123;</span><br><span class="line">        StringBuffer sb &#x3D; new StringBuffer();</span><br><span class="line">        String[] strings &#x3D; s.split(&quot;\\s+&quot;);</span><br><span class="line">        HashMap m &#x3D; new HashMap();</span><br><span class="line">        int modCount &#x3D; 0;</span><br><span class="line"></span><br><span class="line">        for (int i &#x3D; 0; i &lt; strings.length; i++) &#123;</span><br><span class="line">            String innerstring &#x3D; strings[i];</span><br><span class="line">            if (!innerstring.equals(&quot;&quot;)) &#123;</span><br><span class="line">                m.put(modCount++, innerstring);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        for (;modCount&gt;0;) &#123;</span><br><span class="line">            sb.append(m.get(--modCount));</span><br><span class="line">            if (modCount !&#x3D; 0)</span><br><span class="line">                sb.append(&quot; &quot;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è§£é¢˜æ€è·¯å°±æ˜¯ç”¨Javaç°æœ‰çš„APIé…åˆæ­£åˆ™å»æ‹†åˆ†ä¼ å…¥çš„å­—ç¬¦ä¸²sï¼Œå¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„</p>
<p>ç„¶ååˆ©ç”¨HashMapæŸ¥æ‰¾O(1)çš„ç‰¹æ€§ï¼Œå°†valueå€¼æŒ‰åºå­˜å…¥keyï¼Œå¹¶è®°å½•keyå€¼</p>
<p>æœ€åå€’åºkeyå€¼ï¼Œå–å‡ºvalueå³å¯ã€‚</p>
<blockquote>
<p>è¿™é‡Œå…¶å®ä¸€æ¬¡forå¾ªç¯é€†åºéå†ä¹Ÿå¯ä»¥å¾—å‡ºç­”æ¡ˆï¼Œæ—¶é—´å¤æ‚åº¦ä¸ä¼šæœ‰å¤ªå¤§å·®åˆ«ï¼Œå› ä¸ºæœ¬èº«å­—ç¬¦ä¸²æ•°ç»„é•¿åº¦ä¸ä¼šå¾ˆå¤§ã€‚<br>æˆ‘åªæ˜¯å•çº¯çš„åƒä»¿ç…§HashMapæºç ä¸­modCountçš„æƒ³æ³•è®°å½•ä¸€ä¸‹ç¼–è¾‘æ¬¡æ•°ï¼Œæ‰€ä»¥foräº†ä¸¤æ¬¡ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public String reverseWords(String s) &#123;</span><br><span class="line">    String[] words &#x3D; s.trim().split(&quot;\\s+&quot;);</span><br><span class="line">    int len &#x3D; words.length;</span><br><span class="line">    StringBuilder ans &#x3D; new StringBuilder();</span><br><span class="line">    ans.append(words[len - 1]);</span><br><span class="line">    for (int i &#x3D; len - 2; i &gt;&#x3D; 0; i --) &#123;</span><br><span class="line">        if (words[i].equals(&quot;&quot;))</span><br><span class="line">            continue;</span><br><span class="line">        ans.append(&quot; &quot; + words[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    return ans.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œå­¦äº†ä¸€ä¸‹ç½‘ä¸Šä¸€äº›æ—¶é—´å¤æ‚åº¦å¾ˆä½çš„è§£æ³•ï¼Œè€—æ—¶çš„æ­¥éª¤éƒ½æ¥æºäºæ•°ç»„çš„ <code>split</code> æ–¹æ³•ã€‚</p>
<p>æƒ³è¦çªç ´çš„å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªæ•°ç»„æ‹†åˆ†çš„æ–¹æ³•ã€‚</p>
<p>è¿˜æœ‰ï¼ŒåŸºæœ¬å¯ä»¥ç¡®å®šçš„æ˜¯ï¼Œä½¿ç”¨ <code>StringBuilder</code> çš„APIæ‹¼æ¥æ•°ç»„æ¯”ç›´æ¥ä½¿ç”¨ String é€Ÿåº¦è¦å¿«ã€‚</p>
<blockquote>
<p>å…³äºStringæ‹¼æ¥çš„æ€§èƒ½ï¼Œé˜¿é‡Œæ‰‹å†Œä¸­æœ‰ä¸“é—¨æ”¶å½•ï¼š<a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/756752?spm=a2c6h.12873639.0.0.6fee1e8brXp7fY">ä¸ºä»€ä¹ˆä¸å»ºè®®åœ¨ for å¾ªç¯ä¸­ä½¿ç”¨â€œ+â€è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Ÿ</a></p>
</blockquote>
<p>forå¾ªç¯ä¸­5ä¸‡æ¬¡å­—ç¬¦ä¸²æ‹¼æ¥æ€§èƒ½å·®åˆ«ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+ cost:5119</span><br><span class="line">StringBuilder cost:3</span><br><span class="line">StringBuffer cost:4</span><br><span class="line">concat cost:3623</span><br><span class="line">StringUtils.join cost:25726</span><br></pre></td></tr></table></figure>


<p>å…ˆåæäº¤äº†2æ¬¡ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p>11 åˆ†é’Ÿå‰    é€šè¿‡    10 ms    38.9 MB    Java<br>20 åˆ†é’Ÿå‰    é€šè¿‡    12 ms    39.3 MB    Java</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yloopdaed.icu/2020/11/03/concurrenthashmap-two-array-index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="yloopdaed">
      <meta itemprop="description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yloopdaed">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/03/concurrenthashmap-two-array-index/" class="post-title-link" itemprop="url">JDK1.7 ConcurrentHashMap ä¸¤æ¬¡æ•°ç»„ä¸‹æ ‡è®¡ç®—é—®é¢˜</a>
        </h2>

        <div class="post-meta-container">
          
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>
      

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-11-03 21:05:24 / ä¿®æ”¹æ—¶é—´ï¼š21:19:47" itemprop="dateCreated datePublished" datetime="2020-11-03T21:05:24+08:00">2020-11-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ConcurrentHashMapç»“æ„å¦‚ä¸‹:</p>
<p><img src="https://yloopdaed-oss.oss-cn-beijing.aliyuncs.com/ConcurrentHashMap.jpg" alt="ConcurrentHashMap"></p>
<p>Segment[]æ•°ç»„çš„é•¿åº¦åœ¨ConcurrentHashMapçš„æ„é€ æ–¹æ³•ä¸­ç”±å¹¶å‘çº§åˆ« <code> DEFAULT_CONCURRENCY_LEVEL</code> è®¡ç®—å¾—å‡º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> sshift = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ssize = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (ssize &lt; concurrencyLevel) &#123;</span><br><span class="line">    ++sshift;</span><br><span class="line">    ssize &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¹¶ä¸”åˆå§‹åŒ–å®Œæˆåï¼ŒSegment[]æ•°ç»„ä¸ä¼šå†æ‰©å®¹ã€‚</p>
<p>HashEntry[]æ•°ç»„çš„é•¿åº¦åœ¨ConcurrentHashMapçš„æ„é€ æ–¹æ³•ä¸­ç”±åˆå§‹åŒ–å®¹é‡ <code> DEFAULT_INITIAL_CAPACITY</code> å’Œå¹¶å‘çº§åˆ« <code> DEFAULT_CONCURRENCY_LEVEL</code> è®¡ç®—å¾—å‡ºï¼Œä¸”æœ€å°å€¼ä¸º2ï¼Œå‘ä¸Šå–å€¼æ—¶ä¸º2çš„æ•´æ•°å¹‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">int c &#x3D; initialCapacity &#x2F; ssize;</span><br><span class="line">if (c * ssize &lt; initialCapacity)</span><br><span class="line">    ++c;</span><br><span class="line">int cap &#x3D; MIN_SEGMENT_TABLE_CAPACITY; &#x2F;&#x2F; æœ€å°å€¼2</span><br><span class="line">while (cap &lt; c) &#x2F;&#x2F; ä¿è¯å–å€¼æ˜¯2çš„æ•´æ•°å¹‚</span><br><span class="line">    cap &lt;&lt;&#x3D; 1;</span><br></pre></td></tr></table></figure>

<p>åˆå§‹åŒ–å®Œæˆåï¼ŒHashEntry[]æ•°ç»„ä¼šæ‰©å®¹ã€‚è€Œä¸”ç”±è‡ªæ—‹é”å’Œvolatileä¿è¯äº†çº¿ç¨‹å®‰å…¨æ€§</p>
<p>ç”±æ­¤å¯è§ï¼ŒConcurrentHashMapå…ƒç´ æ’å…¥éœ€è¦ä¸¤æ¬¡è®¡ç®—æ•°ç»„ä¸‹æ ‡ï¼Œè®©æˆ‘ä»¬åˆ†æä¸€ä¸‹æºç ä¸­æ˜¯å¦‚ä½•è®¾è®¡çš„ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/11/03/concurrenthashmap-two-array-index/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yloopdaed.icu/2020/11/01/hashmap-modCount/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="yloopdaed">
      <meta itemprop="description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yloopdaed">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/11/01/hashmap-modCount/" class="post-title-link" itemprop="url">HashMap modCount fast-fail XåŸå­æ€§</a>
        </h2>

        <div class="post-meta-container">
          
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-11-01 14:30:23" itemprop="dateCreated datePublished" datetime="2020-11-01T14:30:23+08:00">2020-11-01</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-12-11 21:14:27" itemprop="dateModified" datetime="2020-12-11T21:14:27+08:00">2020-12-11</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>HashMapæºç ä¸­å®šä¹‰çš„æˆå‘˜å˜é‡å¹¶ä¸å¤šï¼Œå…¶ä¸­æˆ‘ä»¬æœ€ä¸ç†Ÿæ‚‰çš„åº”è¯¥å°±æ˜¯modCountï¼Œé‚£ä¹ˆå®ƒåˆ°åº•æ˜¯åšä»€ä¹ˆçš„å‘¢ï¼Ÿ</p>
<p><img src="https://yloopdaed-oss.oss-cn-beijing.aliyuncs.com/modcount.jpg"></p>
<p><font color=red>å¦‚æœä½ æ²¡æ—¶é—´æ€è€ƒè¿™ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥ç›´æ¥è·³è½¬åˆ° <a href="#%E7%BB%93%E8%AE%BA">9.ç»“è®º</a> å¤„</font></p>
<h2 id="modCount"><a href="#modCount" class="headerlink" title="modCount"></a>modCount</h2><p>modCountåœ¨HashMapä¸­è®°å½•çš„æ˜¯HashMapå¯¹è±¡è¢«ä¿®æ”¹çš„æ¬¡æ•°ï¼Œè¿™é‡Œä¸“ä¸šçš„è¯´æ³•æ˜¯é›†åˆåœ¨ç»“æ„ä¸Šä¿®æ”¹æ—¶è¢«ä¼šè®°å½•åœ¨modCountä¸­ã€‚</p>
<blockquote>
<p>æ–‡ä¸­æºç ç‰ˆæœ¬ä¸º JDK1.7ï¼ŒmodCountçš„éƒ¨åˆ†åœ¨JDK1.8ä¸­ä½œç”¨æ˜¯ç›¸åŒçš„ã€‚åªå› ä¸ºJDK1.7ä¸­æºç æ¯”è¾ƒç®€æ´ï¼Œæ‰€ä»¥æœ¬æ–‡é€‰ç”¨JDK1.7æ¥ç¼©å‡ç¯‡å¹…ã€‚</p>
</blockquote>
<p>åœ¨æºç ä¸­è®°å½•åˆ°çš„modCount++çš„æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<ul>
<li>HashMap putæ–¹æ³•</li>
<li>HashMapçš„remove-&gt;removeEntryForKeyæ–¹æ³• é€šè¿‡keyç§»é™¤å…ƒç´ </li>
<li>HashMapçš„removeMappingæ–¹æ³•ï¼Œé€šè¿‡objectç§»é™¤å…ƒç´ </li>
<li>HashMapçš„clearæ–¹æ³•</li>
</ul>
<p>ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œç»“æ„ä¸Šçš„ä¿®æ”¹ä¸»è¦æ˜¯æ·»åŠ å’Œåˆ é™¤ä¸¤éƒ¨åˆ†ã€‚</p>
<h2 id="çº¿ç¨‹ä¸å®‰å…¨"><a href="#çº¿ç¨‹ä¸å®‰å…¨" class="headerlink" title="çº¿ç¨‹ä¸å®‰å…¨"></a>çº¿ç¨‹ä¸å®‰å…¨</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“åœ¨JDK1.7ä¸­HashMapæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œè¿™ä¸ª <strong>ä¸å®‰å…¨</strong> æˆ‘æ˜¯åˆ†ä¸¤æ–¹é¢ç†è§£çš„ï¼š</p>
<p><strong>1 å¤šçº¿ç¨‹æ•°ç»„æ‰©å®¹æ—¶å‡ºç°å¾ªç¯é“¾è¡¨é—®é¢˜</strong></p>
<p>å› ä¸ºæ‰©å®¹æ—¶é“¾è¡¨é¡ºåºä¼šåè½¬ï¼Œæ‰€ä»¥å¤šçº¿ç¨‹æ“ä½œæ—¶å¯èƒ½ä¼šå‡ºç°å¾ªç¯é“¾è¡¨çš„æƒ…å†µï¼Œé‚£ä¹ˆåœ¨getæ–¹æ³•æ—¶å°±ä¼šæ­»å¾ªç¯</p>
<blockquote>
<p>JDK1.8ä¸­ä¹Ÿä¿®å¤äº†è¿™ä¸ªé—®é¢˜</p>
</blockquote>
<p><strong>2 å¤šçº¿ç¨‹è¯»å†™æ—¶é€ æˆæ•°æ®æ··ä¹±çš„é—®é¢˜</strong></p>
<p>HashMapä¸­æœ‰å¼•å…¥äº†ä¸€ä¸ª <strong>fast-fail</strong> çš„æ¦‚å¿µï¼Œç›®çš„æ˜¯é¿å…é«˜å¹¶å‘è¯»å†™é€ æˆçš„æ•°æ®é”™ä¹±çš„éšæ‚£ã€‚</p>
<h2 id="expectedModCount"><a href="#expectedModCount" class="headerlink" title="expectedModCount"></a>expectedModCount</h2><p>expectedModCountè¿™ä¸ªå˜é‡è¢«è®°å½•åœ¨HashIteratorè¿­ä»£å™¨ä¸­ã€‚é¡¾åæ€ä¹‰ï¼Œè¡¨ç¤ºæœŸæœ›çš„ä¿®æ”¹æ¬¡æ•°ï¼Œå½“æœŸæœ›ä¿®æ”¹çš„æ¬¡æ•°ä¸ç­‰äºå®é™…ä¿®æ”¹çš„æ¬¡æ•°æ—¶ï¼Œå°±ä¼šè§¦å‘ <strong>fast-fail</strong> å¿«é€Ÿå¤±è´¥çš„å®¹é”™å¤„ç†</p>
<h2 id="fast-fail"><a href="#fast-fail" class="headerlink" title="fast-fail"></a>fast-fail</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">final Entry&lt;K,V&gt; nextEntry() &#123;</span><br><span class="line">    if (modCount !&#x3D; expectedModCount)</span><br><span class="line">        throw new ConcurrentModificationException();</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿­ä»£å™¨è°ƒç”¨ next() æ–¹æ³•æ—¶ä¼šè°ƒç”¨ nextEntry() æ–¹æ³•ï¼Œæ–¹æ³•ä¸­é¦–å…ˆä¼šåˆ¤æ–­ modCount ä¸ expectedModCount æ˜¯å¦ç›¸ç­‰</p>
<p>å¦‚æœä¸ç›¸ç­‰ç›´æ¥æŠ›å‡º java.util.ConcurrentModificationException å¼‚å¸¸</p>
<blockquote>
<p><strong>GeeksForGeeksä¸­çš„è§£é‡Šä¸ºï¼š</strong></p>
<p>In multi threaded environment, if during the detection of the resource, any method finds that there is a concurrent modification of that object which is not permissible, then this ConcurrentModificationException might be thrown.</p>
<ol>
<li>If this exception is detected, then the results of the iteration are undefined.</li>
<li>Generally, some iterator implementations choose to throw this exception as soon as it is encountered, called fail-fast iterators.</li>
</ol>
<p>For example: If we are trying to modify any collection in the code using a thread, but some another thread is already using that collection, then this will not be allowed.</p>
</blockquote>
<p>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œå¦‚æœåœ¨æ£€æµ‹èµ„æºæœŸé—´ï¼Œä»»ä½•æ–¹æ³•å‘ç°è¯¥å¯¹è±¡å­˜åœ¨å¹¶å‘ä¿®æ”¹ï¼Œè€Œè¿™æ˜¯ä¸å…è®¸çš„ï¼Œåˆ™å¯èƒ½ä¼šæŠ›å‡ºæ­¤ConcurrentModificationExceptionã€‚</p>
<p>1 å¦‚æœæ£€æµ‹åˆ°æ­¤å¼‚å¸¸ï¼Œåˆ™è¿­ä»£ç»“æœä¸ç¡®å®šã€‚</p>
<p>2 é€šå¸¸ï¼ŒæŸäº›è¿­ä»£å™¨å®ç°é€‰æ‹©å°†é‡åˆ°æ­¤å¼‚å¸¸çš„å¼‚å¸¸ç«‹å³æŠ›å‡ºï¼Œç§°ä¸ºå¿«é€Ÿå¤±è´¥è¿­ä»£å™¨ã€‚</p>
<p>ä¾‹å¦‚ï¼šå¦‚æœæˆ‘ä»¬è¯•å›¾ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹æ¥ä¿®æ”¹ä»£ç ä¸­çš„ä¸€ä¸ªé›†åˆï¼Œä½†æ˜¯å¦ä¸€ä¸ªçº¿ç¨‹å·²ç»åœ¨ä½¿ç”¨è¯¥é›†åˆï¼Œè¿™ç§åšæ³•æ˜¯ä¸è¢«å…è®¸çš„</p>
<h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><p>ç›¸å…³ä»£ç å¯ä»¥åœ¨ <a target="_blank" rel="noopener" href="https://github.com/YorickYu/JPP"><strong><em>JPP</em></strong></a>/ConcurrentModificationExceptionDemoç±»ä¸­æŸ¥çœ‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">HashMap m &#x3D; new HashMap();</span><br><span class="line">for (int i &#x3D; 0; i &lt;100 ; i++) &#123;</span><br><span class="line">    m.put(String.valueOf(i), &quot;value&quot;+i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">new Thread(new Runnable() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        Iterator iterator &#x3D; m.keySet().iterator();</span><br><span class="line">        while (iterator.hasNext()) &#123;</span><br><span class="line">            String next &#x3D; (String) iterator.next();</span><br><span class="line">            if (Integer.parseInt(next) % 2 &#x3D;&#x3D; 0) &#123;</span><br><span class="line">                System.out.println(&quot;thread 1&quot;);</span><br><span class="line">                iterator.remove();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).start();</span><br><span class="line"></span><br><span class="line">new Thread(new Runnable() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        Iterator iterator  &#x3D; m.keySet().iterator();</span><br><span class="line">        while (iterator.hasNext()) &#123;</span><br><span class="line">            String next &#x3D; (String) iterator.next();</span><br><span class="line">            System.out.println(m.get(next));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).start();</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œç¬¬ä¸€ä¸ªçº¿ç¨‹ä¸­çš„ <code>System.out.println(&quot;thread 1&quot;);</code> çš„ä½œç”¨æ˜¯ <strong><em>è§¦å‘æ•°æ®å’Œå†…å­˜åŒæ­¥</em></strong>ã€‚</p>
<blockquote>
<p>è¿™éƒ¨åˆ†å†…å®¹å’Œå¯„å­˜å™¨çš„ <strong><em>ç¼“å­˜è¡Œ</em></strong> çŸ¥è¯†æœ‰å…³ï¼Œå¦‚æœä¸è§¦å‘æ•°æ®å’Œå†…å­˜åŒæ­¥ï¼Œç¬¬äºŒä¸ªçº¿ç¨‹æ— æ³•æ­£ç¡®è·å–modCountã€‚</p>
</blockquote>
<h2 id="å•çº¿ç¨‹é”™è¯¯æ¡ˆä¾‹"><a href="#å•çº¿ç¨‹é”™è¯¯æ¡ˆä¾‹" class="headerlink" title="å•çº¿ç¨‹é”™è¯¯æ¡ˆä¾‹"></a>å•çº¿ç¨‹é”™è¯¯æ¡ˆä¾‹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HashMap m &#x3D; new HashMap();</span><br><span class="line">m.put(&quot;key1&quot;, &quot;value2&quot;);</span><br><span class="line">m.put(&quot;key2&quot;, &quot;value2&quot;);</span><br><span class="line">for (String key: m.keySet()) &#123;</span><br><span class="line">    if (key.equals(&quot;key2&quot;)) &#123;</span><br><span class="line">        m.remove(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªä»£ç å—ä¹Ÿæœ‰å¯èƒ½å‘ç”Ÿ fast-fail</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸Šé¢ä»£ç å—ç¼–è¯‘åçš„classæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">HashMap m &#x3D; new HashMap();</span><br><span class="line">m.put(&quot;key1&quot;, &quot;value2&quot;);</span><br><span class="line">m.put(&quot;key2&quot;, &quot;value2&quot;);</span><br><span class="line">Iterator i$ &#x3D; m.keySet().iterator();</span><br><span class="line">while(i$.hasNext()) &#123;</span><br><span class="line">    Object key &#x3D; i$.next();</span><br><span class="line">    if (key.equals(&quot;key2&quot;)) &#123;</span><br><span class="line">        m.remove(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¹ˆçœ‹åº”è¯¥å°±å¾ˆå®¹æ˜“ç†è§£äº†ï¼Œè€Œä¸”è¿™ä¸ªé”™è¯¯ä¹Ÿå¾ˆå®¹æ˜“å‘ç”Ÿã€‚</p>
<p>åœ¨è¿­ä»£å™¨éå†çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå°†keyå€¼ä¸ºâ€œkey2â€çš„å…ƒç´ ç§»é™¤ã€‚ç§»é™¤æ—¶è°ƒç”¨çš„HashMapçš„removeæ–¹æ³•ä¼šå¯¹modCountå€¼+1ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•å¹¶ä¸ä¼šåŒæ­¥expectedModCountçš„å€¼ã€‚æ‰€ä»¥åœ¨ä¸‹ä¸€æ¬¡è¿­ä»£å™¨è°ƒç”¨i$.next();æ–¹æ³•æ—¶ï¼Œä¼šå‘ç”Ÿå¼‚å¸¸ã€‚</p>
<p>expectedModCount // For fast-failï¼šåœ¨ä»¥ä¸‹æ–¹æ³•ä¼šåŒæ­¥modCountå€¼</p>
<ul>
<li>HashIteratorçš„æ„é€ æ–¹æ³•</li>
<li>HashIteratorçš„removeæ–¹æ³•</li>
</ul>
<p>æ‰€ä»¥å°†ä¸Šé¢ç§»é™¤å…ƒç´ çš„ä»£ç ã€‚æ›¿æ¢ä¸º <code>i$.remove();</code> å°±å¯ä»¥äº†ã€‚</p>
<h2 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h2><p>å…³äº i++ è®¡ç®—ä¸æ˜¯åŸå­æ€§çš„æ€€ç–‘ï¼š</p>
<p>HashMapæºç è®°å½•modCount++è¿™ä¸ªè®¡ç®—æ–¹å¼åœ¨å¤šçº¿ç¨‹æ“ä½œæ—¶å¦‚æœä¸èƒ½ä¿è¯åŸå­æ€§ï¼Œé‚£ä¹ˆå²‚ä¸æ˜¯ä¹Ÿæœ‰å¯èƒ½è§¦å‘ConcurrentModificationExceptionå¼‚å¸¸ï¼Ÿ</p>
<p>éªŒè¯è¿‡ç¨‹ï¼š<br>1 å› ä¸ºHashMapçš„putæ“ä½œä¼šè¿›è¡ŒmodCount++<br>2 modCountå£°æ˜æ—¶ä¹Ÿæ²¡æœ‰æŒ‡æ˜<strong>volatile</strong><br>é‚£ä¹ˆå¤šçº¿ç¨‹putæ˜¯å¦ä¼šé€ æˆmodCountçš„å€¼ä¸å‡†ç¡®ï¼Ÿ</p>
<p>ç›¸å…³ä»£ç å¯ä»¥åœ¨ <a target="_blank" rel="noopener" href="https://github.com/YorickYu/JPP"><strong><em>JPP</em></strong></a>/ConcurrentModificationExceptionDemoç±»ä¸­æŸ¥çœ‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">static void atomicTest() throws InterruptedException &#123;</span><br><span class="line"></span><br><span class="line">    HashMap m &#x3D; new HashMap();</span><br><span class="line"></span><br><span class="line">    new Thread(new Runnable() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void run() &#123;</span><br><span class="line">            for (int i &#x3D; 0; i &lt; 10000; i++) &#123;</span><br><span class="line">                &#x2F;&#x2F; System.out.println(i);</span><br><span class="line">                m.put(i, String.valueOf(i).hashCode());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line"></span><br><span class="line">    new Thread(new Runnable() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void run() &#123;</span><br><span class="line">            for (int i &#x3D; 10000; i &lt; 20000; i++) &#123;</span><br><span class="line">                &#x2F;&#x2F; System.out.println(i);</span><br><span class="line">                m.put(i, String.valueOf(i).hashCode());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line"></span><br><span class="line">    Thread.sleep(5000);</span><br><span class="line">    Iterator iterator &#x3D; m.keySet().iterator();</span><br><span class="line">    iterator.next(); &#x2F;&#x2F; å¯¹æ¯”modCount</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><del>è¿è¡Œçš„ç»“æœæ˜¯ï¼Œå¦‚æœå¾ªç¯æ¬¡æ•°ä¸å¤šï¼Œæœ€åå¯ä»¥ä¿è¯modCountçš„æ•°å€¼æ­£ç¡®ã€‚ä½†æ˜¯æå‡å¾ªç¯æ’å…¥çš„æ¬¡æ•°ï¼Œä¼šé”ä½ä¸€ä¸ªçº¿ç¨‹ï¼Œå¯¼è‡´å…¶ä»–çº¿ç¨‹çš„æ•°æ®æ²¡æœ‰æ’å…¥æˆåŠŸï¼Œä½†æ˜¯modCountçš„å€¼ä¾ç„¶æ˜¯æ­£ç¡®çš„ã€‚</del></p>
<p><del>å…·ä½“è¿™ä¸ªé­‚å¾ªç¯æ¬¡æ•°è®¾å®šçš„é˜ˆå€¼ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰è¿‡å¤šå°è¯•ã€‚è‡³å°‘ç›®å‰æˆ‘æ²¡æœ‰å› ä¸º++è®¡ç®—ä¸æ˜¯åŸå­æ€§çš„åŸå› å‡ºç°è¿‡fast-fail</del></p>
<p>è¿è¡Œç»“æœæœ‰æ„å¤–æ”¶è·:</p>
<p><img src="https://yloopdaed-oss.oss-cn-beijing.aliyuncs.com/modcount%2B%2B%2B.jpg"></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œä¸ä»…åœ¨å¤šçº¿ç¨‹å†™å…¥çš„æ—¶å€™modCountçš„å€¼æ— æ³•ä¿è¯ï¼ˆä»expectedModCountçœ‹å‡ºï¼‰ï¼Œè€Œä¸”HashMapçš„sizeä¹Ÿä¸æ»¡è¶³æœŸæœ›ï¼ˆå› ä¸ºå¤šçº¿ç¨‹putæ—¶ï¼Œä¸¤ä¸ªçº¿ç¨‹çš„keyä¸é‡å¤ï¼‰</p>
<p>ä¸ºäº†å†æ¬¡è¯æ˜æˆ‘çš„çŒœæµ‹ï¼Œå¯ä»¥åœ¨å¤šçº¿ç¨‹ä¸­æ·»åŠ  <code>System.out.println(i);</code> ä»£ç ï¼Œæ¥è¾¾åˆ°å†…å­˜åŒæ­¥çš„ç›®çš„</p>
<p>ç»“æœä¸å‡ºæ‰€æ–™ï¼š</p>
<p><img src="https://yloopdaed-oss.oss-cn-beijing.aliyuncs.com/sysmodcount%2B%2B.jpg"></p>
<h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>1 HashMapå¤šçº¿ç¨‹è¯»å†™æ—¶å¯èƒ½ä¼šæŠ›å‡ºConcurrentModificationExceptionå¼‚å¸¸ï¼Œè¿™æ˜¯fast-failå¿«é€Ÿå¤±è´¥æœºåˆ¶ã€‚</p>
<p>2 fast-failå®ç°çš„åŸç†æ˜¯åˆ¤æ–­modCountå’ŒexpectedModCountæ˜¯å¦ç›¸ç­‰</p>
<p>3 modCount++åœ¨å¤šçº¿ç¨‹æ“ä½œæ—¶æ— æ³•ä¿è¯åŸå­æ€§ï¼Œç”šè‡³HashMapæ•´ä¸ªputæ–¹æ³•éƒ½å‡ºç°äº†é—®é¢˜</p>
<blockquote>
<p>PSï¼šæ‰€ä»¥åœ¨JDK1.7çš„ConcurrentHashMapä¸­å‡ºç°å¤§é‡ <strong><em>UNSAFE</em></strong> å’Œ <strong><em>volatile</em></strong> å…³é”®å­—ï¼ŒåŒæ—¶åŠ å…¥äº†ReentrantLockï¼ˆåœ¨JDK1.8ä¸­ç”±äº <code>synchronized</code>çš„æ€§èƒ½å¾—åˆ°ä¼˜åŒ–ï¼Œå°†é”æ¢æˆäº†<code>synchronized</code>ï¼‰ã€‚</p>
</blockquote>
<blockquote>
<p>PSï¼šfast-failçš„é—®é¢˜ï¼Œä¸ä»…ä»…å‡ºç°åœ¨HashMapä¸­ï¼ŒJavaä¸­å¾ˆå¤šé›†åˆç±»å‹éƒ½æœ‰è¿™ä¸ªæœºåˆ¶ã€‚<br>åŒæ—¶ï¼Œè¿™ä¸ªé—®é¢˜ä¹Ÿè¢«æ”¶å½•åœ¨é˜¿é‡Œå¼€å‘æ‰‹å†Œä¸­ï¼š<a target="_blank" rel="noopener" href="https://developer.aliyun.com/article/756753?spm=a2c6h.12873639.0.0.6fee1e8bz6HCIu">ä¸ºä»€ä¹ˆé˜¿é‡Œå·´å·´ç¦æ­¢åœ¨ foreach å¾ªç¯é‡Œè¿›è¡Œå…ƒç´ çš„ remove/add æ“ä½œ</a></p>
</blockquote>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>ä¸Šæ–‡æ‰€æœ‰ä»£ç ç‰‡æ®µéƒ½æ˜¯åŸºäºJDK1.7ï¼Œè™½ç„¶JDK1.8ä¸­å¯¹HashMapåšäº†è¾ƒå¤§çš„æ”¹åŠ¨ã€‚ä½†æ˜¯æ–‡ç« çš„æ€è·¯å’Œç»“è®ºéƒ½æ˜¯ç›¸åŒçš„ã€‚</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yloopdaed.icu/2020/10/31/question-of-hashmap-put/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="yloopdaed">
      <meta itemprop="description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yloopdaed">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/31/question-of-hashmap-put/" class="post-title-link" itemprop="url">IHAVEAQUESTION - JDK1.7 HashMap é“¾è¡¨å¤´æ’ç–‘é—®ï¼Ÿ</a>
        </h2>

        <div class="post-meta-container">
          
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-31 09:45:40" itemprop="dateCreated datePublished" datetime="2020-10-31T09:45:40+08:00">2020-10-31</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-11-02 00:37:48" itemprop="dateModified" datetime="2020-11-02T00:37:48+08:00">2020-11-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="IHAVEAQUESTION"><a href="#IHAVEAQUESTION" class="headerlink" title="IHAVEAQUESTION"></a>IHAVEAQUESTION</h2><p>ä¸ºä»€ä¹ˆJDK1.7ä¸­HashMapé“¾è¡¨æ’å…¥æ—¶è¦åœ¨ <strong>éå†å®Œä¸€éé“¾è¡¨</strong> åï¼Œå†é‡‡ç”¨å¤´æ’æ³•ï¼Ÿ</p>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><p>HashMapåœ¨JDK1.7ä¸­é‡‡ç”¨ æ•°ç»„+é“¾è¡¨ çš„å­˜å‚¨ç»“æ„ã€‚</p>
<p>æ•°ç»„çš„è§’æ ‡æ˜¯åœ¨keyå€¼hashCode()çš„åŸºç¡€ä¸Šè¿›è¡Œå¤šæ¬¡é«˜ä½ç§»åŠ¨çš„æ‰°åŠ¨åå°½é‡ä¿æŒæ•£åˆ—ï¼Œä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š</p>
<p>1 hash</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">final int hash(Object k) &#123;</span><br><span class="line">    int h &#x3D; hashSeed;</span><br><span class="line">    if (0 !&#x3D; h &amp;&amp; k instanceof String) &#123;</span><br><span class="line">        return sun.misc.Hashing.stringHash32((String) k);</span><br><span class="line">    &#125;</span><br><span class="line">    h ^&#x3D; k.hashCode();</span><br><span class="line">    &#x2F;&#x2F; å¤šæ¬¡è®©é«˜ä½å‚ä¸è¿ç®—ï¼Œæ‰°åŠ¨å‡½æ•°</span><br><span class="line">    h ^&#x3D; (h &gt;&gt;&gt; 20) ^ (h &gt;&gt;&gt; 12);</span><br><span class="line">    return h ^ (h &gt;&gt;&gt; 7) ^ (h &gt;&gt;&gt; 4);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2 % -&gt; &amp;</p>
<p>é‡‡ç”¨æ›´æç¬‘çš„ &amp;è¿ç®—ã€‚è¿™é‡Œlengthä¸ºæ•°ç»„çš„é•¿åº¦ï¼Œæºç ä¸­å·§å¦™çš„è®¾è®¡æ•°ç»„çš„é•¿åº¦å¿…é¡»ä¿æŒ2çš„æ•´æ•°å¹‚ã€‚è¿™æ ·è®¾è®¡æ‰èƒ½ä¿è¯length-1è®¡ç®—åå¾—åˆ° <strong>å…¨1</strong> çš„çš„äºŒè¿›åˆ¶åºåˆ—ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">static int indexFor(int h, int length) &#123;</span><br><span class="line">    return h &amp; (length-1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><p>æ•°ç»„çš„indexç¡®è®¤åï¼Œå°±å¯ä»¥å°†é”®å€¼å¯¹æ’å…¥ç›¸åº”ä½ç½®çš„é“¾è¡¨äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public V put(K key, V value) &#123;</span><br><span class="line">    ... </span><br><span class="line">    int hash &#x3D; hash(key); &#x2F;&#x2F; hash</span><br><span class="line">    int i &#x3D; indexFor(hash, table.length); &#x2F;&#x2F; %</span><br><span class="line">    &#x2F;&#x2F; åˆ¤æ–­hashmapä¸­æœ‰æ²¡æœ‰å­˜åœ¨ç›¸åŒçš„keyï¼Œå¦‚æœæœ‰çš„è¯å°†è¿™ä¸ªkeyåŸæ¥çš„valueè¦†ç›–ï¼Œå¹¶è¿”å›</span><br><span class="line">    for (Entry&lt;K,V&gt; e &#x3D; table[i]; e !&#x3D; null; e &#x3D; e.next) &#123;</span><br><span class="line">        Object k;</span><br><span class="line">        if (e.hash &#x3D;&#x3D; hash &amp;&amp; ((k &#x3D; e.key) &#x3D;&#x3D; key || key.equals(k))) &#123;</span><br><span class="line">            V oldValue &#x3D; e.value;</span><br><span class="line">            e.value &#x3D; value;</span><br><span class="line">            e.recordAccess(this);</span><br><span class="line">            return oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    &#x2F;&#x2F; æ‰©å®¹ï¼Œå¤´æ’</span><br><span class="line">    addEntry(hash, key, value, i);</span><br><span class="line">    return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä¸Šé¢çš„æºç éƒ¨åˆ†åªä¿ç•™äº†å…³é”®éƒ¨åˆ†</p>
</blockquote>
<p>æˆ‘ä»¬éƒ½çŸ¥é“JDK1.7ä¸­é“¾è¡¨çš„æ’å…¥æ–¹å¼æ˜¯å¤´æ’ã€‚å¤´æ’ä¸å°¾æ’ç›¸æ¯”æ˜¯èŠ‚çœäº†ä¸€æ¬¡é“¾è¡¨å…¨éå†çš„æ—¶é—´ã€‚ç›´æ¥é‡‡ç”¨ä¸‹é¢ä»£ç å³å¯å®Œæˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; é“¾è¡¨å¤´æ’</span><br><span class="line">table[bucketIndex] &#x3D; new Entry&lt;&gt;(hash, key, value, table[bucketIndex]);</span><br></pre></td></tr></table></figure>

<p>è¿™éƒ¨åˆ†ä»£ç åœ¨putæ–¹æ³•çš„addEntry()ä¸­ï¼ŒaddEntry()æ–¹æ³•åœ¨é“¾è¡¨å¤´æ’ä¹‹å‰åšäº†æ‰©å®¹æ“ä½œã€‚</p>
<p>ä½†æ˜¯å¥‡æ€ªçš„æ˜¯ï¼Œåœ¨ä¸Šé¢putæ–¹æ³•ä¸­æœ‰ä¸€æ®µå¾ªç¯éå†é“¾è¡¨çš„ä»£ç ï¼Œè¿™æ®µä»£ç çš„ç›®çš„åªæ˜¯æ£€æŸ¥è¦æ’å…¥çš„Keyå€¼æ˜¯å¦å·²ç»å­˜åœ¨åœ¨HashMapä¸­ï¼Œå¦‚æœå­˜åœ¨å°±ä¿®æ”¹ï¼ŒåŒæ—¶å°†åŸæ¥çš„å€¼è¿”å›ã€‚</p>
<p><strong><em>è¿™æˆ‘å°±å¾ˆç–‘æƒ‘äº†ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œæ˜æ˜å·²ç»éå†è¿‡ä¸€éé“¾è¡¨äº†ï¼Œä¸ºä»€ä¹ˆä¸å¤šå†™ä¸€ä¸ªelseï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å­˜åœ¨çš„Keyå€¼ï¼Œç›´æ¥å°†ç›®æ ‡é”®å€¼å¯¹æ’å…¥åœ¨é“¾è¡¨å°¾éƒ¨å‘¢ï¼Ÿéƒ½å·²ç»éå†å®Œäº†ï¼Œæ’ä¸ªå€¼å’‹äº†ï¼Ÿ</em></strong></p>
<p>å¯èƒ½çš„åŸå› åªèƒ½æ˜¯æ‰©å®¹æ—¶æœºä¸å¥½æŠŠæ¡ï¼Ÿ</p>
<p>HashMapçš„æ‰©å®¹æœºåˆ¶æ˜¯é”®å€¼å¯¹sizeè¶…è¿‡é˜ˆå€¼åï¼Œæ•°ç»„é•¿åº¦æ‰©å……è‡³ä¹‹å‰çš„ä¸¤å€ï¼Œç„¶åå°†åŸæœ¬ä¸‹æ ‡çš„å…¨éƒ¨é“¾è¡¨è¿ç§»ï¼ˆè¿™ä¸ªè¿ç§»çš„è¿‡ç¨‹ä¼šå€’åºé“¾è¡¨ï¼Œä¹Ÿå¯èƒ½åˆ†æ•£é“¾è¡¨ä¸­çš„æ•°æ®ï¼Œä»¥ç¼©çŸ­é“¾è¡¨çš„é•¿åº¦ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">void transfer(Entry[] newTable, boolean rehash) &#123;</span><br><span class="line">    int newCapacity &#x3D; newTable.length;</span><br><span class="line">    for (Entry&lt;K,V&gt; e : table) &#123;</span><br><span class="line">        while(null !&#x3D; e) &#123;</span><br><span class="line">            Entry&lt;K,V&gt; next &#x3D; e.next;</span><br><span class="line">            ...</span><br><span class="line">            &#x2F;&#x2F; åŒä¸€ä¸ªå…ƒç´ è½¬ç§»åçš„ä¸‹æ ‡æœ‰ä¸¤ç§æƒ…å†µã€‚</span><br><span class="line">            &#x2F;&#x2F; 1 ä¸åŸæ¥ç›¸åŒ 2 åœ¨åŸæ¥ä¸‹æ ‡åŸºç¡€ä¸ŠåŠ åŸæ•°ç»„é•¿åº¦</span><br><span class="line">            int i &#x3D; indexFor(e.hash, newCapacity);</span><br><span class="line"></span><br><span class="line">            &#x2F;&#x2F; è¿™æ ·éå†å¤´æ’åï¼Œé“¾è¡¨çš„é¡ºåºä¸ä¹‹å‰ç›¸å</span><br><span class="line">            e.next &#x3D; newTable[i];</span><br><span class="line">            newTable[i] &#x3D; e;</span><br><span class="line">            e &#x3D; next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>äº†è§£HashMapæºç çš„æœ‹å‹å¯èƒ½éƒ½çŸ¥é“ï¼Œè¿™ä¸ªæ‰©å®¹å’Œè¿ç§»çš„ä»£ç åœ¨é«˜å¹¶å‘æ—¶å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚å¯èƒ½å‡ºç°å¾ªç¯é“¾è¡¨ï¼Œä»¥è‡³äºgetæ—¶é™·å…¥æ­»å¾ªç¯ã€‚</p>
<p>ä¹Ÿè®¸æ­£å› å¦‚æ­¤ï¼Œéœ€è¦å°†é“¾è¡¨æ’å…¥å’Œæ‰©å®¹çš„ä»£ç ä»ä¹‹å‰çš„å¾ªç¯ä¸­ç‹¬ç«‹å‡ºæ¥ã€‚å¹¶é‡‡ç”¨å¤´æ’çš„æ–¹å¼ï¼Œå°½é‡å†å¾ªç¯ä¸€æ¬¡é“¾è¡¨ã€‚</p>
<h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>ä»¥ä¸Šéƒ½æ˜¯æˆ‘åœ¨é˜…è¯»HashMapæºç åäº§ç”Ÿç–‘é—®ï¼Œç‹¬ç«‹æ€è€ƒï¼Œè‡ªæˆ‘è§£ç­”çš„è¿‡ç¨‹ã€‚</p>
<p>å¯èƒ½æ˜¯å¾ˆå°‘æœ‰äººäº§ç”Ÿè·Ÿæˆ‘ç›¸ä¼¼çš„ç–‘é—®ï¼Œæ‰€ä»¥æˆ‘åœ¨ç½‘ä¸Šä¹Ÿæ²¡èƒ½æŸ¥æ‰¾åˆ°å‡†ç¡®çš„èµ„æ–™å’Œç­”æ¡ˆã€‚</p>
<p>æ‰€ä»¥ä»¥ä¸Šå…¨æ˜¯è‡ªå·±çš„æ¨æ–­å’ŒçŒœæµ‹ã€‚æ¯•ç«ŸHashMapæºç ä¸è®ºæ˜¯åœ¨æ•°æ®ç»“æ„è¿˜æ˜¯ç®—æ³•æ€æƒ³å±‚é¢éƒ½æ˜¯éå¸¸ä¼˜é›…çš„ã€‚åˆ«äººè¿™ä¹ˆè®¾è®¡è‚¯å®šæ˜¯æœ‰åŸå› çš„ã€‚å“ˆå“ˆ</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yloopdaed.icu/2020/10/29/memory-layout-of-java-object/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="yloopdaed">
      <meta itemprop="description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yloopdaed">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/29/memory-layout-of-java-object/" class="post-title-link" itemprop="url">Javaå¯¹è±¡çš„å†…å­˜å¸ƒå±€</a>
        </h2>

        <div class="post-meta-container">
          
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-29 20:45:35" itemprop="dateCreated datePublished" datetime="2020-10-29T20:45:35+08:00">2020-10-29</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-11-02 00:38:29" itemprop="dateModified" datetime="2020-11-02T00:38:29+08:00">2020-11-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="ç›¸å…³"><a href="#ç›¸å…³" class="headerlink" title="ç›¸å…³"></a>ç›¸å…³</h3><p>å¯¹è±¡çš„å­˜å‚¨æ¶‰åŠå†…å­˜çš„ä¸‰éƒ¨åˆ†ï¼š<strong>æ–¹æ³•æ ˆ</strong>ï¼ˆå­˜å‚¨æŒ‡é’ˆï¼‰ã€<strong>æ–¹æ³•åŒº</strong>ï¼ˆå­˜å‚¨ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ï¼‰ã€<strong>å †</strong>ï¼ˆå­˜å‚¨å¯¹è±¡çš„å®ä¾‹æ•°æ®ï¼‰ã€‚</p>
<p>å¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨çš„ç»“æ„ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š<strong>å¯¹è±¡å¤´</strong>ã€<strong>å®ä¾‹æ•°æ®</strong>ã€<strong>å¯¹é½å¡«å……</strong>ã€‚</p>
<h3 id="Javaå¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨å¸ƒå±€"><a href="#Javaå¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨å¸ƒå±€" class="headerlink" title="Javaå¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨å¸ƒå±€"></a>Javaå¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨å¸ƒå±€</h3><h4 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h4><p><img src="https://yloopdaed-oss.oss-cn-beijing.aliyuncs.com/Java%E5%AF%B9%E8%B1%A1%E7%BB%93%E6%9E%84.jpg" alt="Javaå¯¹è±¡åœ¨å†…å­˜ä¸­å­˜å‚¨å¸ƒå±€"></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/29/memory-layout-of-java-object/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yloopdaed.icu/2020/10/21/Tri-colour-marking/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="yloopdaed">
      <meta itemprop="description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yloopdaed">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/21/Tri-colour-marking/" class="post-title-link" itemprop="url">Tri-colour marking</a>
        </h2>

        <div class="post-meta-container">
          
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-21 16:39:47" itemprop="dateCreated datePublished" datetime="2020-10-21T16:39:47+08:00">2020-10-21</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-11-03 22:24:08" itemprop="dateModified" datetime="2020-11-03T22:24:08+08:00">2020-11-03</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://yloopdaed-oss.oss-cn-beijing.aliyuncs.com/gc-1.gif"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yloopdaed.icu/2020/10/19/CPU-Out-of-Order/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="yloopdaed">
      <meta itemprop="description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yloopdaed">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/19/CPU-Out-of-Order/" class="post-title-link" itemprop="url">CPU ä¹±åºæ‰§è¡Œåè¯</a>
        </h2>

        <div class="post-meta-container">
          
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-19 09:20:49" itemprop="dateCreated datePublished" datetime="2020-10-19T09:20:49+08:00">2020-10-19</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-11-02 00:38:35" itemprop="dateModified" datetime="2020-11-02T00:38:35+08:00">2020-11-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="å¾ªåºè¿è¡Œ"><a href="#å¾ªåºè¿è¡Œ" class="headerlink" title="å¾ªåºè¿è¡Œ"></a>å¾ªåºè¿è¡Œ</h3><p>ä¸»æ¡ç›®ï¼šæŒ‡ä»¤å‘¨æœŸ<br>åœ¨æ—©æœŸçš„å¤„ç†å™¨ä¸­ï¼ŒæŒ‡ä»¤çš„æ‰§è¡Œä¸€èˆ¬åœ¨ä»¥ä¸‹çš„æ­¥éª¤ä¸­å®Œæˆï¼š</p>
<p>1 æŒ‡ä»¤è·å–ã€‚<br>2 å¦‚æœè¾“å…¥çš„è¿ç®—å¯¹è±¡æ˜¯å¯ä»¥è·å–çš„ï¼ˆæ¯”å¦‚å·²ç»å­˜åœ¨äºå¯„å­˜å™¨ä¸­ï¼‰ï¼Œè¿™æ¡æŒ‡ä»¤ä¼šè¢«å‘é€åˆ°åˆé€‚çš„åŠŸèƒ½å•å…ƒã€‚å¦‚æœä¸€ä¸ªæˆ–è€…æ›´å¤šçš„è¿ç®—å¯¹è±¡åœ¨å½“å‰çš„æ—¶é’Ÿå‘¨æœŸä¸­æ˜¯ä¸å¯è·å–çš„ï¼ˆé€šå¸¸éœ€è¦ä»ä¸»å­˜è·å–ï¼‰ï¼Œå¤„ç†å™¨ä¼šå¼€å§‹ç­‰å¾…ç›´åˆ°å®ƒä»¬æ˜¯å¯ä»¥è·å–çš„ã€‚<br>3 æŒ‡ä»¤åœ¨åˆé€‚çš„åŠŸèƒ½å•å…ƒä¸­è¢«æ‰§è¡Œã€‚<br>4 åŠŸèƒ½å•å…ƒå°†è¿ç®—ç»“æœå†™å›å¯„å­˜å™¨ã€‚</p>
<h3 id="ä¹±åºæ‰§è¡Œ"><a href="#ä¹±åºæ‰§è¡Œ" class="headerlink" title="ä¹±åºæ‰§è¡Œ"></a>ä¹±åºæ‰§è¡Œ</h3><p>è¿™ç§èŒƒå¼é€šè¿‡ä»¥ä¸‹æ­¥éª¤æŒ‘é€‰å¯æ‰§è¡Œçš„æŒ‡ä»¤å…ˆè¿è¡Œï¼š</p>
<p>1 æŒ‡ä»¤è·å–ã€‚<br>2 æŒ‡ä»¤è¢«å‘é€åˆ°ä¸€ä¸ªæŒ‡ä»¤åºåˆ—ä¸­ï¼ˆä¹Ÿç§°æ‰§è¡Œç¼“å†²åŒºæˆ–è€…ä¿ç•™ç«™ï¼‰ã€‚<br>3 æŒ‡ä»¤å°†åœ¨åºåˆ—ä¸­ç­‰å¾…ç›´åˆ°å®ƒçš„æ•°æ®è¿ç®—å¯¹è±¡æ˜¯å¯ä»¥è·å–çš„ã€‚ç„¶åæŒ‡ä»¤è¢«å…è®¸åœ¨å…ˆè¿›å…¥çš„ã€æ—§çš„æŒ‡ä»¤ä¹‹å‰ç¦»å¼€åºåˆ—ç¼“å†²åŒºã€‚<br>4 æŒ‡ä»¤è¢«åˆ†é…ç»™ä¸€ä¸ªåˆé€‚çš„åŠŸèƒ½å•å…ƒå¹¶ç”±ä¹‹æ‰§è¡Œã€‚<br>5 ç»“æœè¢«æ”¾åˆ°ä¸€ä¸ªåºåˆ—ä¸­ã€‚<br>6 ä»…å½“æ‰€æœ‰åœ¨è¯¥æŒ‡ä»¤ä¹‹å‰çš„æŒ‡ä»¤éƒ½å°†ä»–ä»¬çš„ç»“æœå†™å…¥å¯„å­˜å™¨åï¼Œè¿™æ¡æŒ‡ä»¤çš„ç»“æœæ‰ä¼šè¢«å†™å…¥å¯„å­˜å™¨ä¸­ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºæ¯•ä¸šæˆ–è€…é€€ä¼‘å‘¨æœŸã€‚</p>
<p>ä¹±åºæ‰§è¡Œçš„é‡è¦æ¦‚å¿µæ˜¯å®ç°äº†<strong>é¿å…è®¡ç®—æœºåœ¨ç”¨äºè¿ç®—çš„å¯¹è±¡ä¸å¯è·å–æ—¶çš„å¤§é‡ç­‰å¾…ã€‚</strong>åœ¨ä¸Šè¿°æ–‡å­—çš„è¦ç‚¹ä¸­ï¼Œä¹±åºæ‰§è¡Œå¤„ç†å™¨é¿å…äº†åœ¨é¡ºåºæ‰§è¡Œå¤„ç†å™¨å¤„ç†è¿‡ç¨‹ç¬¬äºŒæ­¥ä¸­å½“æŒ‡ä»¤ç”±äºè¿ç®—æ•°æ®æœªåˆ°ä½æ‰€é€ æˆçš„ç­‰å¾…ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b &#x3D; a * 5</span><br><span class="line">v &#x3D; b++</span><br><span class="line">c &#x3D; a + 3</span><br></pre></td></tr></table></figure>
<p>ç”±äº1ä¸3å¯å¹¶å‘è¿è¡Œï¼Œè€Œ2ä¹‹bæ— æ³•éšå³è·å¾—ï¼Œå› æ­¤å¯ä»¥å…ˆè®¡ç®—ä¹˜æ³•1ä¸åŠ æ³•3ï¼Œå†è¿è¡Œ2ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/19/CPU-Out-of-Order/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yloopdaed.icu/2020/10/12/slide-windows/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="yloopdaed">
      <meta itemprop="description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yloopdaed">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/12/slide-windows/" class="post-title-link" itemprop="url">LeetCode sliding window algorithm</a>
        </h2>

        <div class="post-meta-container">
          
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-12 11:56:08" itemprop="dateCreated datePublished" datetime="2020-10-12T11:56:08+08:00">2020-10-12</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-12-23 15:50:06" itemprop="dateModified" datetime="2020-12-23T15:50:06+08:00">2020-12-23</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/algorithm/" itemprop="url" rel="index"><span itemprop="name">algorithm</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>æ»‘åŠ¨çª—å£æœ¬è´¨ä¸Šæ¥æºäºå•è°ƒæ€§ï¼Œä¸€èˆ¬å¯ä»¥ç†è§£ä¸ºï¼Œéšç€å·¦ç«¯ç‚¹ä½ç½®çš„å¢åŠ ï¼Œå…¶æœ€ä¼˜å†³ç­–çš„å³ç«¯ç‚¹ä½ç½®å•è°ƒä¸å‡ã€‚</p>
<p>äº‹å®ä¸Šæ˜¯åˆ©ç”¨å†³ç­–å•è°ƒæ€§æ¥å®ç°å¤æ‚åº¦ä¼˜åŒ–ã€‚</p>
<p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p>
<p>å¯ä»¥è§£å†³çš„é—®é¢˜æœ‰ï¼šæ±‚æœ€å°åŒºé—´ã€åŒºé—´æœ€å¤§å€¼ã€æœ€å°å­ä¸²ç­‰</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/12/slide-windows/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yloopdaed.icu/2020/10/10/git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="yloopdaed">
      <meta itemprop="description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yloopdaed">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/10/git/" class="post-title-link" itemprop="url">git command</a>
        </h2>

        <div class="post-meta-container">
          
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-10 17:23:40" itemprop="dateCreated datePublished" datetime="2020-10-10T17:23:40+08:00">2020-10-10</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-11-14 15:43:33" itemprop="dateModified" datetime="2020-11-14T15:43:33+08:00">2020-11-14</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/git/" itemprop="url" rel="index"><span itemprop="name">git</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è™½ç„¶ç°åœ¨å¸¸ç”¨sourcetreeæˆ–è€…ç›´æ¥åœ¨IDEä¸­é€šè¿‡å›¾å½¢ç•Œé¢æ“ä½œï¼Œä½†æ˜¯å¼€å‘ä¸­éš¾å…é‡åˆ°ä¸€äº›æ£˜æ‰‹çš„é—®é¢˜éœ€è¦ä½¿ç”¨gitå‘½ä»¤å»ç®¡ç†é¡¹ç›®</p>
<p>è¿™é‡Œåˆ—å‡ºä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼Œæ–¹ä¾¿æŸ¥è¯¢ <a href="#%E6%9C%AC%E5%9C%B0%E6%93%8D%E4%BD%9C">å‘½ä»¤é›†</a></p>
<p><strong><em>&lt;æ›´æ–°20201114&gt;</em></strong></p>
<h2 id="å¸¸è§åœºæ™¯"><a href="#å¸¸è§åœºæ™¯" class="headerlink" title="å¸¸è§åœºæ™¯"></a>å¸¸è§åœºæ™¯</h2><h3 id="1-æ’¤é”€æœ¬åœ°-æš‚å­˜åŒºä»£ç "><a href="#1-æ’¤é”€æœ¬åœ°-æš‚å­˜åŒºä»£ç " class="headerlink" title="1 æ’¤é”€æœ¬åœ°\æš‚å­˜åŒºä»£ç "></a>1 æ’¤é”€æœ¬åœ°\æš‚å­˜åŒºä»£ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD &lt;filename&gt;</span><br><span class="line">git checkout -- &lt;filename&gt;</span><br><span class="line">æ‰¹é‡æ’¤é”€ï¼š</span><br><span class="line">git reset HEAD</span><br><span class="line">git checkout .</span><br></pre></td></tr></table></figure>

<h3 id="2-æ’¤é”€å·²æäº¤çš„ä»£ç "><a href="#2-æ’¤é”€å·²æäº¤çš„ä»£ç " class="headerlink" title="2 æ’¤é”€å·²æäº¤çš„ä»£ç "></a>2 æ’¤é”€å·²æäº¤çš„ä»£ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard commit_id</span><br><span class="line">æŸ¥çœ‹commit_idï¼ˆæŸ¥çœ‹å‘½ä»¤å†å²ï¼‰ï¼š</span><br><span class="line">git reflog </span><br></pre></td></tr></table></figure>

<h3 id="3-åŸæœ¬ç‰ˆæœ¬é€€å›"><a href="#3-åŸæœ¬ç‰ˆæœ¬é€€å›" class="headerlink" title="3 åŸæœ¬ç‰ˆæœ¬é€€å›"></a>3 åŸæœ¬ç‰ˆæœ¬é€€å›</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard commit_id</span><br><span class="line">git push -f origin master</span><br><span class="line">æŸ¥çœ‹commit_idï¼ˆæŸ¥çœ‹å‘½ä»¤å†å²ï¼‰ï¼š</span><br><span class="line">git log</span><br></pre></td></tr></table></figure>

<h3 id="4-åˆ›å»ºåˆ†æ”¯å¹¶æäº¤åˆ°è¿œç¨‹"><a href="#4-åˆ›å»ºåˆ†æ”¯å¹¶æäº¤åˆ°è¿œç¨‹" class="headerlink" title="4 åˆ›å»ºåˆ†æ”¯å¹¶æäº¤åˆ°è¿œç¨‹"></a>4 åˆ›å»ºåˆ†æ”¯å¹¶æäº¤åˆ°è¿œç¨‹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b dev</span><br><span class="line">git push origin dev</span><br><span class="line">åˆ é™¤è¿œç«¯åˆ†æ”¯ï¼š</span><br><span class="line">git push origin --delete dev</span><br><span class="line">åˆ é™¤æœ¬åœ°åˆ†æ”¯ï¼š</span><br><span class="line">git branch -d dev</span><br><span class="line">æŸ¥çœ‹æœ¬åœ°ã€è¿œç«¯åˆ†æ”¯ï¼š</span><br><span class="line">git branch -a</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/10/git/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yloopdaed.icu/2020/10/07/money-management/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="yloopdaed">
      <meta itemprop="description" content="å¯èƒ½æ˜¯ä¸ªéå…¸å‹ç¨‹åºå‘˜å§ ^ ^">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yloopdaed">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/10/07/money-management/" class="post-title-link" itemprop="url">ç†è´¢è¥-å­¦ä¹ ç¬”è®°</a>
        </h2>

        <div class="post-meta-container">
          
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-10-07 18:04:46" itemprop="dateCreated datePublished" datetime="2020-10-07T18:04:46+08:00">2020-10-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-10-13 14:33:28" itemprop="dateModified" datetime="2020-10-13T14:33:28+08:00">2020-10-13</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/management/" itemprop="url" rel="index"><span itemprop="name">management</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <!-- ## å°ç™½ç†è´¢è¥å­¦ä¹ ç¬”è®° -->

<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å›½åº†æœŸé—´å½¢æˆå®‰æ’æ¯”è¾ƒæ»¡ï¼Œå‰åŠæ®µå®‰æ’äº†å®¶åº­çŸ­é€”è‡ªé©¾æ—…è¡Œï¼ŒååŠæ®µè¦å»å¤–åœ°å‚åŠ æœ‹å‹çš„å©šç¤¼ã€‚</p>
<p>æ²¡æœ‰å¤ªå¤šå¤§å—çš„æ—¶é—´å¯ä»¥å­¦ä¹ å’Œæ•´ç†ï¼Œäºæ˜¯æŠ¥åå‚åŠ äº†ä¸€ä¸ªåŸºç¡€çš„ç†è´¢çŸ¥è¯†çš„è®­ç»ƒè¥ï¼Œåˆ©ç”¨æ™šä¸Šç¡å‰çš„æ—¶é—´äº†è§£ä¸€ä¸‹ç†è´¢ç›¸å…³çš„çŸ¥è¯†ã€ä¸°å¯Œä¸€ä¸‹è‡ªå·±çš„çŸ¥è¯†åº“ã€‚</p>
<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>è¯¾ç¨‹å…±12å¤©ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿä¼šæŒ‰æ¯å¤©çš„å†…å®¹è¿›è¡Œæ›´æ–°ã€‚å…¨éƒ¨å­¦ä¹ ç»“æŸåäº‰å–å†™ä¸€å†™è‡ªå·±çš„æ”¶è·å’Œæ„Ÿæ‚Ÿã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/10/07/money-management/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yloopdaed</span>
  
  <a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/">æ²ªICPå¤‡2020029595å·-1</a>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  


















  








  

  

</body>
</html>
